!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";var t="javascript/blocked",e={blacklist:window.PandectesRules.blacklist,whitelist:window.PandectesRules.whitelist},r={blacklisted:[]},n=function(r,n){return r&&(!n||n!==t)&&(!e.blacklist||e.blacklist.some((function(t){return t.test(r)})))&&(!e.whitelist||e.whitelist.every((function(t){return!t.test(r)})))},i=function(t){var r=t.getAttribute("src");return e.blacklist&&e.blacklist.every((function(t){return!t.test(r)}))||e.whitelist&&e.whitelist.some((function(t){return t.test(r)}))};var a=new MutationObserver((function(e){for(var i=0;i<e.length;i++)for(var a=e[i].addedNodes,o=function(e){var i,o=a[e];if(1===o.nodeType&&"SCRIPT"===o.tagName){var c=o.src,s=o.type,l=o.dataset.cookiecategory||"";if(n(c,s)){r.blacklisted.push([o,o.type]),o.type=t;o.addEventListener("beforescriptexecute",(function e(r){o.getAttribute("type")===t&&r.preventDefault(),o.removeEventListener("beforescriptexecute",e)})),o.parentElement&&o.parentElement.removeChild(o)}if(l&&o.src){var u=!0;switch(l){case"functionality":case"C0001":window.PandectesRules.manualBlacklist[1].push(o.src);break;case"performance":case"C0002":window.PandectesRules.manualBlacklist[2].push(o.src);break;case"targeting":case"C0003":window.PandectesRules.manualBlacklist[4].push(o.src);break;default:u=!1}u&&(r.blacklisted.push([o,null]),window.PandectesRules.blacklist.push((i=o.src,new RegExp(i.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")))),o.parentElement&&o.parentElement.removeChild(o))}}},c=0;c<a.length;c++)o(c)}));function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,i,a=[],o=!0,c=!1;try{for(r=r.call(t);!(o=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);o=!0);}catch(t){c=!0,i=t}finally{try{o||null==r.return||r.return()}finally{if(c)throw i}}return a}(t,e)||d(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||d(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){if(t){if("string"==typeof t)return p(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}a.observe(document.documentElement,{childList:!0,subtree:!0});var f=document.createElement,y={src:Object.getOwnPropertyDescriptor(HTMLScriptElement.prototype,"src"),type:Object.getOwnPropertyDescriptor(HTMLScriptElement.prototype,"type")};document.createElement=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];if("script"!==r[0].toLowerCase())return f.bind(document).apply(void 0,r);var a=f.bind(document).apply(void 0,r);try{Object.defineProperties(a,{src:c(c({},y.src),{},{set:function(e){n(e,a.type)&&y.type.set.call(this,t),y.src.set.call(this,e)}}),type:c(c({},y.type),{},{get:function(){var e=y.type.get.call(this);return e===t||n(this.src,e)?null:e},set:function(e){var r=n(a.src,a.type)?t:e;y.type.set.call(this,r)}})}),a.setAttribute=function(t,e){"type"===t||"src"===t?a[t]=e:HTMLScriptElement.prototype.setAttribute.call(a,t,e)}}catch(t){console.warn("Yett: unable to prevent script execution for script src ",a.src,".\n",'A likely cause would be because you are using a third-party browser extension that monkey patches the "document.createElement" function.')}return a};var g=new RegExp("[|\\{}()[\\]^$+*?.]","g");window.PandectesRules=window.PandectesRules||{},window.PandectesRules.manualBlacklist={1:[],2:[],4:[]},window.PandectesRules.unblock=function(n){n.length<1?(e.blacklist=[],e.whitelist=[]):(e.blacklist&&(e.blacklist=e.blacklist.filter((function(t){return n.every((function(e){return"string"==typeof e?!t.test(e):e instanceof RegExp?t.toString()!==e.toString():void 0}))}))),e.whitelist&&(e.whitelist=[].concat(u(e.whitelist),u(n.map((function(t){if("string"==typeof t){var r=".*"+t.replace(g,"\\$&")+".*";if(e.whitelist.every((function(t){return t.toString()!==r.toString()})))return new RegExp(r)}else if(t instanceof RegExp&&e.whitelist.every((function(e){return e.toString()!==t.toString()})))return t;return null})).filter(Boolean)))));for(var o=document.querySelectorAll('script[type="'.concat(t,'"]')),c=0;c<o.length;c++){var s=o[c];i(s)&&(r.blacklisted.push([s,"application/javascript"]),s.parentElement.removeChild(s))}var d=0;u(r.blacklisted).forEach((function(t,e){var n=l(t,2),a=n[0],o=n[1];if(i(a)){for(var c=document.createElement("script"),s=0;s<a.attributes.length;s++){var u=a.attributes[s];"src"!==u.name&&"type"!==u.name&&c.setAttribute(u.name,a.attributes[s].value)}c.setAttribute("src",a.src),c.setAttribute("type",o||"application/javascript"),document.head.appendChild(c),r.blacklisted.splice(e-d,1),d++}})),e.blacklist&&e.blacklist.length<1&&a.disconnect()},window.PandectesRules.toJson=function(t){try{return JSON.parse(t)}catch(t){return!1}},window.PandectesRules.getBackupScripts=function(){for(var t=[],e=0;e<r.blacklisted.length;e+=1)t.push(r.blacklisted[e][0].getAttribute("src"));return t},window.PandectesRules.getCookie=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"_pandectes_gdpr",r="; "+document.cookie,n=r.split("; "+e+"=");if(n.length<2)t={};else{var i=n.pop(),a=i.split(";");t=window.atob(a.shift())}var o=this.toJson(t);return!1!==o?o:t},window.PandectesRules.gcm={hasInitialized:!1,ads_data_redaction:!1,url_passthrough:!1,storage:{ad_storage:"granted",analytics_storage:"granted",functionality_storage:"granted",personalization_storage:"granted",security_storage:"granted",wait_for_update:500}},window.PandectesRules.initializeGcm=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.getCookie(),n=e;r&&null!==r.preferences&&(n=r.preferences);var i=0==(+n&t.adStorageCategory)?"granted":"denied",a=0==(+n&t.analyticsStorageCategory)?"granted":"denied",o=0==(+n&t.functionalityStorageCategory)?"granted":"denied",c=0==(+n&t.personalizationStorageCategory)?"granted":"denied",s=0==(+n&t.securityStorageCategory)?"granted":"denied";this.gcm={hasInitialized:!0,ads_data_redaction:"denied"===i&&t.redactData,url_passthrough:t.urlPassthrough,storage:{ad_storage:i,analytics_storage:a,functionality_storage:o,personalization_storage:c,security_storage:s,wait_for_update:500}}}}));
